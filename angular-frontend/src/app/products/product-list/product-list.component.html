<hr>
<div class="mt-3" style="font-size: 17px">
    <span class="text-secondary me-4">Sort by:</span>
    <a type="button" class="me-4" ><span >Date</span>&nbsp;
        <i class="fa-solid fa-sm"  style="color: black"></i></a>
    <a type="button" class="me-4" ><span >Rate</span>&nbsp;
        <i class="fa-solid fa-sm" style="color: black"></i></a>
    <input class="form-check-input" type="checkbox"
           id="flexCheckChecked" >
    <label class="form-check-label me-3" for="flexCheckChecked">
        &nbsp;With a photo <span class="text-secondary">5</span>
    </label>
    <input class="form-check-input" type="checkbox"
           id="flexCheckChecked" >
    <label class="form-check-label me-3" for="flexCheckChecked">
        &nbsp;Verified <span class="text-secondary">5</span>
    </label>
    <input class="form-check-input" type="checkbox"
           id="flexCheckChecked" >
    <label class="form-check-label" for="flexCheckChecked">
        &nbsp;With a photo <span class="text-secondary">5</span>
    </label>
</div>
<hr>
<div class="card-group ms-3">
    <ng-container *ngIf="isOrders == true; else itemsOfCard">
        <ng-container *ngFor="let order of orders">
            <div *ngFor="let item of order.productsAndQuantity | keyvalue;" class="me-4 mb-4">
                <div class="card object-with-hidden-item" style="width: 18rem; height: 520px;">
                    <b [ngStyle]="order.isPaid? {'color':'green'}:{'color':'red'}"
                       style="position: absolute; top: 8px; right: 10px; font-size: 13px; background-color: white; border-radius: 20px 20px 20px 20px; padding: 3px 12px">{{order.isPaid ? 'Paid' : 'Not Paid'}}</b>
                    <b style="color: #4CCAF2; position: absolute; top: 8px; left: 10px; font-size: 13px; background-color: white; border-radius: 20px 20px 20px 20px; padding: 3px 12px">{{item.value}}</b>
                    <a routerLink="/products/{{item.key.product.id}}/details" routerLinkActive="active">
                        <img [src]="item.key.file" style="object-fit: cover;" height="381.86" width="286.4"
                             class="card-img-top"
                             alt="product image">
                    </a>
                    <div class="card-body">
                        <h5 class="card-title">{{item.key.product.price | currency}}
                            <span style="text-decoration: line-through; font-size: 15px;
                    color: #868695; margin-left: 8px;">700$</span>
                        </h5>
                        <div class="hidden-text-1">
                            <div class="card-text"
                                 style="word-break: break-all">{{item.key.product.seller.username | titlecase}}
                                / {{item.key.product.productName | titlecase}}
                            </div>
                        </div>
                        <div class="card bottom-wrap hidden-item ">
                            <span type="button"
                                  style="border-bottom: 2px dotted rgb(108, 117, 125); color: #868695; font-size: 14px">Contact the seller</span>
                        </div>
                        <div>
                            <span class="text-info">{{order.status.replace("_", " ") | titlecase }}</span> <br>
                            <span
                                class="text-secondary">Order date: {{order.orderedAt | date: 'dd MMM YYYY, HH:mm'}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
    </ng-container>
    <ng-template #itemsOfCard>
        <div *ngFor="let item of card" class="me-4 mb-4">
            <div class="card object-with-hidden-item" style="width: 18rem; height: 31rem">
                <b [ngStyle]="item.product.isVerified? {'color':'green'}:{'color':'red'}"
                   style="position: absolute; top: 8px; right: 10px; font-size: 13px;">
                    <i class="fa-solid fa-2xl" tooltip="{{item.product.isVerified? 'Verified by the administrator':'Not yet verified by the administrator'}}" [ngClass]="item.product.isVerified? 'fa-check': 'fa-xmark'"></i>

                </b>
                <img type="button" routerLink="/products/{{item.product.id}}/details" routerLinkActive="active"
                     [src]="item.file" style="object-fit: cover;" height="381.86" width="286.4" class="card-img-top"
                     alt="product image">
                <div class="card-body" type="button" routerLink="/products/{{item.product.id}}/details"
                     routerLinkActive="active">
                    <h5 class="card-title">{{item.product.price | currency}}
                        <span style="text-decoration: line-through; font-size: 15px;
                    color: #868695; margin-left: 8px;">700$</span>
                    </h5>
                    <div class="hidden-text-2">
                        <div class="card-text"
                             style="word-break: break-all">{{item.product.seller.username | titlecase}}
                            / {{item.product.productName | titlecase}}
                        </div>
                    </div>
                </div>
                <div class="card bottom-wrap hidden-item">
                    <div class="btn btn-outline-dark" (click)="addToCart(item.product)">Add to cart</div>
                </div>
            </div>
        </div>
    </ng-template>
</div>
<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong type="button" style="color: black" routerLink="/profile/cart" routerLinkActive="active"
                    class="me-auto">Cart</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            <span type="button" style="color: #0DCCF3"
                  routerLink="/products/{{productInToast?productInToast.id:'error'}}/details" routerLinkActive="active">'{{(productInToast ? productInToast.productName : 'None')| titlecase}}
                '</span> has added to <span type="button" routerLink="/profile/cart" style="color: #c9cc24"
                                            routerLinkActive="active">cart!</span>
        </div>
    </div>
</div>
